<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Unity WebGL Player | Capstone</title>
  <link rel="shortcut icon" href="TemplateData/favicon.ico">
  <link rel="stylesheet" href="TemplateData/style.css">
  <!--Teachable Machine-->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/pose@0.8/dist/teachablemachine-pose.min.js"></script>
  <script src="./squatModel/pose_test.js"></script>
  <script src="TemplateData/UnityProgress.js"></script>
  <script src="Build/UnityLoader.js"></script>

  <script>
    var unityInstance = UnityLoader.instantiate("unityContainer", "Build/plz.json", {onProgress: UnityProgress});
    var currentGame = ""
    function testFunction(data) {
      console.log(data)
    }
    function selectedGame(idx) {
      if (idx === 1) { currentGame = "Squat" }
      else if (idx === 2) { currentGame = "Lunge" }
      else if (idx === 3) {currentGame = "JumpingJack"}
    }
    function userLogin(id,passwd) {
      login(id,passwd);
    }
    function userCreate(id,passwd){
      signup(id,passwd);
    }
    function newRecord(game,score){
      newScore(game,score);
    }
  </script>

</head>

<body>
  <!--Teachable Machine-->
  <div class="teachable-content">
    <div id="name"><b>Action Fit</b></div>
    <br>
    <button id="start" type="button" onclick="init()">Start Camera</button>
    <div><canvas id="canvas"></canvas></div>
    <span id="label-container"></span>
  </div>
  <div class="webgl-content">
    <div id="unityContainer" style="width: 960px; height: 600px"></div>
    <div class="footer">
      <div class="webgl-logo"></div>
      <div class="fullscreen" onclick="unityInstance.SetFullscreen(1)"></div>
      <div class="title">풀스크린으로 플레이 해주세요</div>
    </div>
  </div>
</body>
  <!-- Firebase Script -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script defer src="https://www.gstatic.com/firebasejs/6.2.0/firebase-app.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/6.2.0/firebase-auth.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/6.2.0/firebase-firestore.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/6.3.3/firebase-database.js"></script>
  <script defer src="init-firebase.js"></script>
</html>